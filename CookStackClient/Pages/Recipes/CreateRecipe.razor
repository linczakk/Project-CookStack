@using CookStackClient.Components.Recipes
@using CookStackClient.Services
@using CookStackShared.Recipes.Dtos
@using CookStackShared.Enums

@page "/recipe-create"
@inject RecipesApiClient Api
@inject NavigationManager Nav

<RecipeForm RecipeDto="dto" OnSubmit="Create" OnCancel="Cancel" SubmitText="Create recipe" />

@code{
	private CreateRecipeDto dto = new();

	private async Task Create()
	{
		await Api.CreateRecipeAsync(dto);
		Nav.NavigateTo("/recipes");
	}

	private void Cancel()
	{
		Nav.NavigateTo("/recipes");
	}
}